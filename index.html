<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Interactive Arabic Alphabet with Keyboard & TTS</title>
  <!-- Font: Noto Naskh Arabic -->
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='0.9em' x='50' text-anchor='middle' font-size='90' font-family='Noto Naskh Arabic'%3E%D8%B9%3C/text%3E%3C/svg%3E" />
  <!-- Font: Noto Naskh Arabic -->
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Noto+Naskh+Arabic&display=swap"
  />
  <style>
    body {
      font-family: 'Noto Naskh Arabic', sans-serif;
      text-align: center;
      background-color: #fff;
      padding: 20px;
      margin: 0;
      direction: rtl;
    }
    .top-section {
      margin-bottom: 30px;
    }
    .keyboard {
      display: inline-flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
      margin-bottom: 10px;
    }
    .key-btn {
      font-size: 1.3rem;
      padding: 5px 10px;
      cursor: pointer;
      border: 1px solid #ccc;
      background: #eee;
      user-select: none;
      position: relative; /* allows tooltip positioning */
    }
    .key-btn:hover {
      background: #ddd;
    }
    /* Show tooltip if data-name is present (not for space key) */
    .key-btn[data-name]:hover::after {
      content: attr(data-name);
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: #333;
      color: #fff;
      font-size: 0.9rem;
      padding: 3px 6px;
      border-radius: 4px;
      white-space: nowrap;
      pointer-events: none;
    }

    .input-container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      margin: 0 auto 20px;
      max-width: 600px; /* optional limit */
    }
    #compose-input {
      font-size: 1.3rem;
      padding: 5px;
      width: 60%;
      text-align: center;
      font-family: 'Noto Naskh Arabic', sans-serif;
    }

    .study-link {
      font-size: 1.4rem;
      text-decoration: none;
      color: #333;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    .study-link:hover {
      color: #000;
    }

    /* Chart styling (unchanged) */
    .table {
      display: inline-block;
      margin: 0;
    }
    .row {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
    }
    .letter {
      font-size: 4rem;
      cursor: pointer;
      position: relative;
      margin: 0;
      font-family: 'Noto Naskh Arabic', sans-serif;
    }
    .letter[data-name]:hover::after {
      content: attr(data-name);
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: #333;
      color: #fff;
      font-size: 3rem;
      padding: 3px 6px;
      border-radius: 4px;
      white-space: nowrap;
      pointer-events: none;
    }
    .arrow {
      cursor: pointer;
      font-size: 1rem;
      padding: 0 10px;
      user-select: none;
      transition: transform 0.3s;
    }
    .arrow.expanded {
      transform: rotate(180deg);
    }
    .hidden-row {
      display: none;
      font-size: 1.8rem;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
      margin: 0 0 10px 0;
    }
    .accent-letter {
      color: #555;
      cursor: default;
      font-family: 'Noto Naskh Arabic', sans-serif;
    }
  </style>
</head>

<body>

<div class="top-section">
  <!-- Single row: Clear - [Input] - Speak - Study link -->
  <div class="input-container">
    <a href="study.html" class="study-link">ğŸ“–</a> 
    <button id="speak-btn">ğŸ”‰</button>
    <input type="text" id="compose-input" placeholder="ÙƒØªØ¨ Ù‡Ù†Ø§..." />
    <button id="clear-btn">âŒ¦</button>
  </div>
  <!-- Keyboard row -->
  <div class="keyboard">
    <!-- Basic letters with data-name -->
    <span class="key-btn" data-name="Alif">Ø§</span>
    <span class="key-btn" data-name="Alif-Hamza">Ø£Ù</span>
    <span class="key-btn" data-name="Alif-Hamza">Ø¥</span>
    <span class="key-btn" data-name="Ba">Ø¨</span>
    <span class="key-btn" data-name="Ta">Øª</span>
    <span class="key-btn" data-name="Tha">Ø«</span>
    <span class="key-btn" data-name="Jim">Ø¬</span>
    <span class="key-btn" data-name="Ha">Ø­</span>
    <span class="key-btn" data-name="Kha">Ø®</span>
    <span class="key-btn" data-name="Dal">Ø¯</span>
    <span class="key-btn" data-name="Dhal">Ø°</span>
    <span class="key-btn" data-name="Ra">Ø±</span>
    <span class="key-btn" data-name="Zay">Ø²</span>
    <span class="key-btn" data-name="Sin">Ø³</span>
    <span class="key-btn" data-name="Shin">Ø´</span>
    <span class="key-btn" data-name="Sad">Øµ</span>
    <span class="key-btn" data-name="Dad">Ø¶</span>
    <span class="key-btn" data-name="Tta">Ø·</span>
    <span class="key-btn" data-name="Thaa">Ø¸</span>
    <span class="key-btn" data-name="Ain">Ø¹</span>
    <span class="key-btn" data-name="Ghain">Øº</span>
    <span class="key-btn" data-name="Fa">Ù</span>
    <span class="key-btn" data-name="Qaf">Ù‚</span>
    <span class="key-btn" data-name="Kaf">Ùƒ</span>
    <span class="key-btn" data-name="Lam">Ù„</span>
    <span class="key-btn" data-name="Mim">Ù…</span>
    <span class="key-btn" data-name="Nun">Ù†</span>
    <span class="key-btn" data-name="Hha">Ù‡</span>
    <span class="key-btn" data-name="Waw">Ùˆ</span>
    <span class="key-btn" data-name="Waw-Hamza">Ø¤</span>
    <span class="key-btn" data-name="Ya">ÙŠ</span>
    <span class="key-btn" data-name="Alif">Ù‰</span>
    <span class="key-btn" data-name="Alif-Hamza">Ø¦</span>
    <span class="key-btn" data-name="Ta marbuta">Ø©</span>
    <span class="key-btn" data-name="Hamza">Ø¡</span>

<!-- Accents -->
<span class="key-btn" data-name="Fatha">Ù</span>
<span class="key-btn" data-name="Kasra">Ù</span>
<span class="key-btn" data-name="Damma">Ù</span>
<span class="key-btn" data-name="Sukun">Ù’</span>

    <!-- Space (no tooltip) -->
    <span class="key-btn" data-char=" " style="min-width:60px;">____</span>
  </div>
</div>

<!-- ALPHABET CHART -->
<div class="table">
  <div class="row">
    <span class="letter" data-audio="audio/alif.mp3" data-name="Ø£Ù„Ù">Ø§  Ø§Ù€Ø§Ù€Ø§</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/ba.mp3" data-name="Ø¨Ø§Ø¡">Ø¨ Ø¨Ø¨Ø¨</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/ta.mp3" data-name="ØªØ§Ø¡">Øª ØªØªØª</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/tha.mp3" data-name="Ø«Ø§Ø¡">Ø« Ø«Ø«Ø«</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/jeem.mp3" data-name="Ø¬ÙŠÙ…">Ø¬ Ø¬Ø¬Ø¬</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/ha.mp3" data-name="Ø­Ø§Ø¡">Ø­ Ø­Ø¬Ø­</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/kha.mp3" data-name="Ø®Ø§Ø¡">Ø® Ø®Ø®Ø®</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/dal.mp3" data-name="Ø¯Ø§Ù„">Ø¯  Ø¯ Ù€Ø¯ Ù€Ø¯</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/dhal.mp3" data-name="Ø°Ø§Ù„">Ø°  Ø° Ù€Ø° Ù€Ø°</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/ra.mp3" data-name="Ø±Ø§Ø¡">Ø±  Ø± Ù€Ø± Ù€Ø±</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/zay.mp3" data-name="Ø²Ø§ÙŠ">Ø²  Ø² Ù€Ø² Ù€Ø²</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/sin.mp3" data-name="Ø³ÙŠÙ†">Ø³ Ø³Ø³Ø³</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/shin.mp3" data-name="Ø´ÙŠÙ†">Ø´ Ø´Ø´Ø´</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/sad.mp3" data-name="ØµØ§Ø¯">Øµ ØµØµØµ</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/dad.mp3" data-name="Ø¶Ø§Ø¯">Ø¶ Ø¶Ø¶Ø¶</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/tta.mp3" data-name="Ø·Ø§Ø¡">Ø· Ø·Ø·Ø·</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/dha.mp3" data-name="Ø¸Ø§Ø¡">Ø¸ Ø¸Ø¸Ø¸</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/ain.mp3" data-name="Ø¹ÙŠÙ†">Ø¹ Ø¹Ø¹Ø¹</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/ghayn.mp3" data-name="ØºÙŠÙ†">Øº ØºØºØº</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/fa.mp3" data-name="ÙØ§Ø¡">Ù ÙÙÙ</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/qaf.mp3" data-name="Ù‚Ø§Ù">Ù‚ Ù‚Ù‚Ù‚</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/kaf.mp3" data-name="ÙƒØ§Ù">Ùƒ ÙƒÙƒÙƒ</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/lam.mp3" data-name="Ù„Ø§Ù…">Ù„ Ù„Ù„Ù„</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/mim.mp3" data-name="Ù…ÙŠÙ…">Ù… Ù…Ù…Ù…</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/nun.mp3" data-name="Ù†ÙˆÙ†">Ù† Ù†Ù†Ù†</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/haa.mp3" data-name="Ù‡Ø§Ø¡">Ù‡ Ù‡Ù‡Ù‡</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/waw.mp3" data-name="ÙˆØ§Ùˆ">Ùˆ  Ùˆ Ù€Ùˆ Ù€Ùˆ</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/ya.mp3" data-name="ÙŠØ§Ø¡">ÙŠ ÙŠÙŠÙŠ</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/alif.mp3" data-name="Ø£Ù„ÙŠÙ Ù…Ø§ÙƒØ³ÙˆØ±Ø§">Ù‰         Ù€Ù‰</span>
  </div>
  <div class="row">
    <span class="letter" data-audio="audio/tamarbuta.mp3" data-name="ØªÙØ§Ø¡Ù’ Ù…ÙØ±Ù’Ø¨ÙÙˆØ·ÙØ©">Ø©       Ù€Ø©</span>
  </div>
</div>

 <!-- End of .table -->

<!-- Hidden audio element for letter audios -->
<audio id="audio-player"></audio>

<script>
  // 1) On-Screen Keyboard Logic
  const composeInput = document.getElementById('compose-input');
  const keys = document.querySelectorAll('.key-btn');

  keys.forEach(key => {
    key.addEventListener('click', () => {
      // If there's a data-char attribute, use that; otherwise use textContent
      const char = key.getAttribute('data-char') || key.textContent;
      composeInput.value += char;
    });
  });

  // 2) TTS Handling
  const speakBtn = document.getElementById('speak-btn');
  const clearBtn = document.getElementById('clear-btn');

  speakBtn.addEventListener('click', () => {
    const textToSpeak = composeInput.value.trim();
    if (textToSpeak.length > 0) {
      const utterance = new SpeechSynthesisUtterance(textToSpeak);
      // *** Set language to Arabic (Morocco) ***
      utterance.lang = 'ar-MA';
      speechSynthesis.speak(utterance);
    }
  });

  clearBtn.addEventListener('click', () => {
    composeInput.value = '';
  });

  // 3) Audio on letter clicks
  document.querySelectorAll('.letter').forEach(letter => {
    letter.addEventListener('click', () => {
      const audioSrc = letter.getAttribute('data-audio');
      if (audioSrc) {
        const player = document.getElementById('audio-player');
        player.src = audioSrc;
        player.play();
      }
    });
  });
</script>

</body>
</html>
